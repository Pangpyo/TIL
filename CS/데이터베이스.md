# 데이터베이스
* 데이터베이스는 일정한 규칙, 규약을 통해 구조화되어 저장되는 데이터의 모음.
## 데이터베이스의 기본
### 데이터베이스의 구성 요소
* 엔티티, 릴레이션, 속성, 도메인, 필드와 레코드
### 키
* 기본키
  * 자연키, 인조키
* 외래키
* 후보키 : 기본키가 될 수 있는 후보.유일성과 최소성을 갖추어야 한다
* 대체키 : 후보키가 두 개 이상인 경우 기본키를 제외한 나머지
* 슈퍼키 : 각 레코드를 유일하게 식별할 수 있는 유일성을 갖춘 키

### ERD의 중요성
* 데이터베이스를 구축할 때 기초적인 뼈대 역할을 한다.
* 시스템 요구사항을 기반으로 작성되며, 설계도 역할을 한다.
* 관계형 구조로 표현할 수 있는 데이터를 구성하는데 유용하다.

## 정규화
* 이상현상을 해결하거나 저장 공간을 효율적으로 사용하기 위해 릴레이션을 분리하는 과정
### 정규형 원칙
* 같은 의미를 표현하는 릴레이션이지만 좀 더 좋은 구조로 만들어야 하고, 자료의 중복성은 감소해야 하고, 독립적인 관계는 별개의 릴레이션으로 표현해야 하며, 각각의 릴레이션은 독립적으로 표현이 가능해야한다
### 제1 정규형
* 모든 도메인이 더 이상 분해될 수 없는 원자값으로 구성되어야 한다

### 제2 정규형
* 제1 정규형을 만족하는 릴레이션에서, 부분 함수의 종속성을 제거한 형태를 말한다.
* 부분함수의 종속성 제거란 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속적인 것을 말한다.

### 제3 정규형
* 제2 정규형이며 모든 속성이 이행적 함수 종속을 만족하지 않는 상태를 말한다.
* 이행적 함수 종속이란 A -> B가 와 B -> C가 존재하면 A -> C 가 성립하는데, 이때 C가 A에 대해 이행적 함수 종속이 되었다고 말한다.

### 보이스/코드 정규형
* 제 3정규형이고, 결정자가 후보키가 아닌 함수 종속 관계를 제거하여 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키인 상태를 말한다.
  * 결정자 : X -> Y일 때, X는 결정자, Y는 종속자이다

## 트랜잭션
* 데이터베이스에서 하나의 논리적 기능을 수행하기 위한 작업의 단위
### 원자성
* 트랜잭션 안의 작업이 모두 수행되거나 되지 않았거나 보장되어야한다.
### 일관성
* 데이터베이스 안의 모든 데이터는 허용된 방식으로만 변경되어야한다
### 격리성
* 트랜잭션 수행 시 서로 끼어들지 못하는 것
### 무결성
* 데이터의 정확성, 일관성, 유효성을 유지하는 것
  * 개체 무결성, 참조 무결성, 고유 무결성, NULL 무결성

### 파티셔닝과 샤딩
* 테이블이 커질수록 성능이 감소할 것이다. 이를 위해 데이터베이스를 분리하는 방법이 파티셔닝과 샤딩이다.
* 파티셔닝 : 매우 큰 테이블을 여러개의 테이블로 분할하는 작업. MySQL에서 자체적으로 지원한다.
  * 수평 파티셔닝 : 테이블의 각 행을 다른 테이블에 분산시키는 것. 리스트 파티셔닝, 레인지 파티셔닝, 해쉬 파티셔닝 등이 있다.
  * 수직 파티셔닝 : 테이블의 일부 열을 빼내는 형태. 정규화도 수직 파티셔닝과 관련있는 과정이라고 볼 수 있다. 다만 수직 파티셔닝은 이미 정규화된 데이터를 분리하는 과정이다.
* 샤딩 : 동일한 스키마를 가진 여러대의 데이터베이스 서버들에 데이터를 작은 단위로 분산 저장하는 기법. 수평 파티셔닝의 일종이라 할 수 있다.

## 데이터베이스의 종류
### RDBMS(관계형 데이터 베이스)
* 행과 열을 가지는 표 형식의 데이터를 저장하며, 서로 관련된 데이터 지점에 대한 접근을 저장 및 제공하는 데이터베이스 유형
### NoSQL
* Not only SQL, SQL이 아닌 데이터베이스. MongoDB와 Redis가 대표적

## 인덱스
* 데이터베이스에서 데이터를 빠르게 찾을 수 있는 장치. 책의 찾아보기(인덱스)와 같다. 조회 속도를 크게 향상시킨다.
### 인덱스 사용시 주의점
* 인덱스는 비용이다. 인덱스를 사용시 삽입, 수정, 삭제시의 비용이 증가하므로 주의해야한다.
* DB크기의 10%정도의 추가 공간이 필요하다
* 인덱스 생성 자체에도 시간이 걸린다.

## 조인
* 조인이란 하나의 테이블이 아닌 두 개 이상의 테이블을 묶어서 하나의 결과물로 만드는 것.
* inner join : 두 행이 모두 일치하는 부분만 표기
* left outer join : 왼쪽테이블의 모든 행이 결과 테이블에 표기
* right outer join : 오은쪽 테이블의 모든 행이 결과테이블에 표기
* full outer join : 두 개의 테이블을 기반으로 조인조건에 만족하지 않는 행까지 모두 표기
